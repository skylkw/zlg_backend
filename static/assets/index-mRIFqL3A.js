import{B as W,C as _,u as j,D as S,l as b,E as D,b as A,G as V,H as N,I as $}from"./index-BPa8dAqI.js";function x(e){return W()?(_(e),!0):!1}function w(e){return typeof e=="function"?e():j(e)}const G=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J=e=>typeof e<"u",B=Object.prototype.toString,F=e=>B.call(e)==="[object Object]",I=()=>{},C=G?window:void 0;function Q(e){var t;const n=w(e);return(t=n==null?void 0:n.$el)!=null?t:n}function z(...e){let t,n,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,o]=e,t=C):[t,n,r,o]=e,!t)return I;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const u=[],a=()=>{u.forEach(c=>c()),u.length=0},l=(c,f,d,i)=>(c.addEventListener(f,d,i),()=>c.removeEventListener(f,d,i)),m=S(()=>[Q(t),w(o)],([c,f])=>{if(a(),!c)return;const d=F(f)?{...f}:f;u.push(...n.flatMap(i=>r.map(v=>l(c,i,v,d))))},{immediate:!0,flush:"post"}),p=()=>{m(),a()};return x(p),p}function T(){const e=b(!1),t=V();return t&&N(()=>{e.value=!0},t),e}function H(e){const t=T();return A(()=>(t.value,!!e()))}function K(e,t={}){const{window:n=C}=t,r=H(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const u=b(!1),a=p=>{u.value=p.matches},l=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",a):o.removeListener(a))},m=D(()=>{r.value&&(l(),o=n.matchMedia(w(e)),"addEventListener"in o?o.addEventListener("change",a):o.addListener(a),u.value=o.matches)});return x(()=>{m(),l(),o=void 0}),u}function U(e){return JSON.parse(JSON.stringify(e))}function P(e,t,n,r={}){var o,u,a;const{clone:l=!1,passive:m=!1,eventName:p,deep:c=!1,defaultValue:f,shouldEmit:d}=r,i=V(),v=n||(i==null?void 0:i.emit)||((o=i==null?void 0:i.$emit)==null?void 0:o.bind(i))||((a=(u=i==null?void 0:i.proxy)==null?void 0:u.$emit)==null?void 0:a.bind(i==null?void 0:i.proxy));let h=p;t||(t="modelValue"),h=h||`update:${t.toString()}`;const M=s=>l?typeof l=="function"?l(s):U(s):s,L=()=>J(e[t])?M(e[t]):f,O=s=>{d?d(s)&&v(h,s):v(h,s)};if(m){const s=L(),E=b(s);let y=!1;return S(()=>e[t],g=>{y||(y=!0,E.value=M(g),$(()=>y=!1))}),S(E,g=>{!y&&(g!==e[t]||c)&&O(g)},{deep:c}),E}else return A({get(){return L()},set(s){O(s)}})}export{P as a,z as b,K as u};
